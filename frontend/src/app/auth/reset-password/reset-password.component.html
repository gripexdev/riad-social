<div class="mx-auto flex min-h-[calc(100vh-120px)] w-full max-w-md items-center">
  <div class="w-full rounded-3xl border border-line bg-white/90 p-8 shadow-soft">
    <div class="brand text-center text-4xl text-ink">Riad</div>
    <h1 class="mt-2 text-center text-2xl font-semibold text-ink">Set a new password</h1>
    <p class="mt-1 text-center text-sm text-muted">Use the link from your email to choose a new password.</p>
    <form class="mt-6 space-y-4" [formGroup]="resetForm" (ngSubmit)="reset()">
      <div>
        <label class="text-xs font-semibold uppercase tracking-[0.2em] text-muted">New Password</label>
        <input class="mt-2 w-full rounded-2xl border border-line bg-white px-4 py-3 text-sm text-ink placeholder:text-muted focus:border-accent focus:outline-none" formControlName="newPassword" type="password" required>
        <div class="mt-2 text-xs text-muted">Minimum 6 characters.</div>
      </div>
      <div>
        <label class="text-xs font-semibold uppercase tracking-[0.2em] text-muted">Confirm Password</label>
        <input class="mt-2 w-full rounded-2xl border border-line bg-white px-4 py-3 text-sm text-ink placeholder:text-muted focus:border-accent focus:outline-none" formControlName="confirmPassword" type="password" required>
        <div *ngIf="resetForm.hasError('passwordMismatch') && resetForm.get('confirmPassword')?.touched" class="mt-2 text-sm text-red-600">
          Passwords do not match.
        </div>
      </div>
      <button class="w-full rounded-full bg-gradient-to-r from-accent to-accent-strong px-5 py-3 text-sm font-semibold text-white shadow-glow transition hover:opacity-90" type="submit" [disabled]="!resetForm.valid || !linkValid">Update password</button>
    </form>
    <div *ngIf="!linkValid" class="mt-4 text-sm text-red-600">
      Reset link is invalid or missing.
      <a class="font-semibold text-accent" routerLink="/forgot-password">Request a new link</a>
    </div>
    <div *ngIf="successMessage" class="mt-4 text-sm text-emerald-600">
      {{ successMessage }} Redirecting to login...
    </div>
    <div *ngIf="errorMessage" class="mt-4 text-sm text-red-600">
      {{ errorMessage }}
    </div>
    <div class="mt-6 text-center text-sm text-muted">
      Ready to sign in? <a class="font-semibold text-accent" routerLink="/login">Go to login</a>
    </div>
  </div>
</div>
